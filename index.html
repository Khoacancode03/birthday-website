<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chúc Mừng Sinh Nhật</title>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;700&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
    font-family: 'Be Vietnam Pro', sans-serif;
            background: #000;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            position: relative;
        }

        /* Flying hearts background */
        .flying-heart {
            position: absolute;
            color: #ff69b4;
            font-size: 20px;
            animation: flyHeart 8s linear infinite;
            opacity: 0.7;
        }

        @keyframes flyHeart {
            0% {
                transform: translateX(-50px) translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.7;
            }

            90% {
                opacity: 0.7;
            }

            100% {
                transform: translateX(50px) translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Animated background particles */
        .particle {
            position: absolute;
            background: rgba(255, 105, 180, 0.2);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(180deg);
            }
        }

        .container {
            perspective: 1000px;
            position: relative;
            z-index: 10;
        }

        .envelope {
            width: 350px;
            height: 250px;
            position: relative;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .envelope.initial {
            animation: envelopeFly 3s ease-out forwards;
        }

        @keyframes envelopeFly {
            0% {
                transform: translateX(-100vw) translateY(-50px) rotate(-15deg) scale(0.5);
                opacity: 0;
            }

            70% {
                transform: translateX(0) translateY(0) rotate(0deg) scale(1.1);
                opacity: 1;
            }

            100% {
                transform: translateX(0) translateY(0) rotate(0deg) scale(1);
                opacity: 1;
            }
        }

        .envelope.hidden {
            opacity: 0 !important;
            transform: scale(0) !important;
            pointer-events: none;
            transition: none !important;
            display: none !important;
        }

        .envelope-back {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 50%, #ffa8a8 100%);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(255, 107, 107, 0.4),
                0 0 50px rgba(255, 105, 180, 0.2);
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .envelope-back.white {
            background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 50%, #e8e8e8 100%);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2),
                0 0 50px rgba(255, 105, 180, 0.1);
            border: 2px solid rgba(255, 105, 180, 0.3);
        }

        .envelope-back::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 45%, rgba(255, 255, 255, 0.2) 50%, transparent 55%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(135deg, #ff1744 0%, #ff5722 100%);
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            transform-origin: 50% 0;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 2;
            box-shadow: 0 5px 15px rgba(255, 23, 68, 0.4);
        }

        .envelope-flap.white {
            background: linear-gradient(135deg, #ff69b4 0%, #ff1744 100%);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
        }

        .heart {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 70px;
            height: 70px;
            transform: translate(-50%, -50%) rotate(45deg);
            background: linear-gradient(135deg, #ff1744 0%, #ff69b4 100%);
            animation: heartbeat 1.2s ease-in-out infinite;
            box-shadow: 0 0 15px rgba(255, 105, 180, 0.5);
            cursor: pointer;
            z-index: 3;
        }

        .heart::before,
        .heart::after {
            content: "";
            position: absolute;
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #ff1744 0%, #ff69b4 100%);
            border-radius: 50%;
        }

        .heart::before {
            top: -35px;
            left: 0;
        }

        .heart::after {
            left: -35px;
            top: 0;
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: translate(-50%, -50%) rotate(45deg) scale(1);
            }

            50% {
                transform: translate(-50%, -50%) rotate(45deg) scale(1.2);
            }
        }

        .card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff9ff3 0%, #ff6ec7 25%, #ff3d71 50%, #ff6b9d 75%, #c44569 100%);
            border-radius: 20px;
            transform: rotateY(-180deg);
            backface-visibility: hidden;
            box-shadow: 0 25px 50px rgba(255, 105, 180, 0.5),
                0 0 60px rgba(255, 61, 113, 0.3),
                inset 0 0 50px rgba(255, 255, 255, 0.1);
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }

        .white-card {
            background: linear-gradient(135deg, #ffffff 0%, #fafafa 25%, #f5f5f5 50%, #f0f0f0 75%, #e8e8e8 100%);
            color: #333;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1),
                0 0 60px rgba(255, 105, 180, 0.1),
                inset 0 0 50px rgba(255, 105, 180, 0.05);
            border: 3px solid rgba(255, 105, 180, 0.2);
        }

        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.15) 0%, transparent 70%);
            animation: rotate 15s linear infinite;
        }

        .card::after {
            content: '💖';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 30px;
            animation: heartFloat 2s ease-in-out infinite;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.8);
        }

        @keyframes heartFloat {

            0%,
            100% {
                transform: translateX(-50%) translateY(0px);
            }

            50% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        @keyframes rotate {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .message {
            color: #fff;
            text-align: center;
            line-height: 1.6;
            font-size: 14px;
            z-index: 1;
            position: relative;
            opacity: 0;
            transform: translateY(20px);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

.signature {
      text-align: right;
      margin-top: 30px;
      font-style: italic;
      font-weight: bold;
      font-size: 18px;
      color: #555;
    }


        /* Message styling for white background */
        .white-message {
            color: #333;
            text-align: justify;
            line-height: 1.6;
            font-size: 16px;
            text-shadow: none;
        }

        .white-message p {
            margin-bottom: 20px;
            min-height: 1.6em;
        }

        .white-message .highlight {
            color: #ff1744;
            font-weight: bold;
            text-shadow: none;
        }

        .message.show {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.5s ease;
        }

        .message p {
            margin-bottom: 12px;
            min-height: 1.6em;
        }

        .highlight {
            font-weight: bold;
            color: #ffeb3b;
            text-shadow: 0 0 10px rgba(255, 235, 59, 0.6);
        }

        .highlight.dark {
            color: #ff69b4;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.6);
        }

        .envelope.flipped {
            transform: rotateY(180deg);
        }

        .envelope.flipped .envelope-flap {
            transform: rotateX(-180deg);
        }

        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ff69b4;
            border-radius: 50%;
            animation: sparkle 1.5s ease-in-out infinite;
            box-shadow: 0 0 10px #ff69b4;
        }

        @keyframes sparkle {

            0%,
            100% {
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }

            50% {
                opacity: 1;
                transform: scale(1) rotate(180deg);
            }
        }

        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff69b4;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.8);
            opacity: 0;
            animation: titleFade 2s ease-out 1s forwards;
        }

        @keyframes titleFade {
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        /* White background section */
        .white-background {
            width: 600px;
            min-height: 400px;
            background: #ffffff;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.1),
                0 0 50px rgba(255, 105, 180, 0.2);
            border: 3px solid rgba(255, 105, 180, 0.3);
            display: none;
            opacity: 0;
            transform: scale(0.5);
            transition: all 0.8s ease-out;
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
        }

        .white-background.show {
            display: block;
            opacity: 1;
            transform: scale(1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .envelope {
                width: 300px;
                height: 200px;
            }

            .card {
                padding: 20px;
            }

            .message {
                font-size: 12px;
                line-height: 1.5;
            }

            .title {
                font-size: 20px;
            }

            .heart {
                width: 60px;
                height: 60px;
            }

            .heart::before,
            .heart::after {
                width: 60px;
                height: 60px;
            }

            .heart::before {
                top: -30px;
            }

            .heart::after {
                left: -30px;
            }

            .white-background {
                width: 95vw;
                min-height: 70vh;
                padding: 30px 20px;
                border-radius: 20px;
            }

            .white-message {
                font-size: 14px;
                line-height: 1.5;
            }

            .white-message p {
                margin-bottom: 15px;
            }
        }

        @media (max-width: 480px) {
            .envelope {
                width: 280px;
                height: 180px;
            }

            .message {
                font-size: 11px;
            }

            .title {
                font-size: 18px;
                top: 10px;
            }

            .white-background {
                width: 95vw;
                min-height: 75vh;
                padding: 25px 15px;
                border-radius: 15px;
            }

            .white-message {
                font-size: 12px;
                line-height: 1.4;
            }

            .white-message p {
                margin-bottom: 12px;
            }
        }

        .typewriter {
            overflow: hidden;
            border-right: 2px solid #ff69b4;
            white-space: nowrap;
        }

        @keyframes typing {
            from {
                width: 0;
            }

            to {
                width: 100%;
            }
        }

        @keyframes blink-caret {

            from,
            to {
                border-color: transparent;
            }

            50% {
                border-color: #ff69b4;
            }
        }
    </style>
</head>

<body>
    <audio id="birthdayMusic" loop>
    <source src="mmnd cut.mp3" type="audio/mp4">
    </audio>
    
    <div class="container">
        <div class="envelope initial" id="envelope">
            <div class="envelope-back"></div>
            <div class="envelope-flap"></div>
            <div class="heart" id="heart"></div>

            <div class="card" id="card">
                <div class="message" id="message">
                    <p>Click the heart to open! 💖</p>
                </div>
            </div>

            <!-- Sparkles -->
            <div class="sparkle" style="top: 20%; left: 15%; animation-delay: 0s;"></div>
            <div class="sparkle" style="top: 80%; right: 20%; animation-delay: 0.5s;"></div>
            <div class="sparkle" style="top: 40%; right: 10%; animation-delay: 1s;"></div>
            <div class="sparkle" style="top: 70%; left: 25%; animation-delay: 1.5s;"></div>
        </div>

        <!-- White background section (hidden initially) -->
        <div class="white-background" id="whiteBackground">
            <div class="white-message" id="whiteMessage">
                <p id="text-line-1"></p>
                <p id="text-line-2"></p>
                <p id="text-line-3"></p>
                <p id="text-line-4"></p>
                <p id="text-line-5"></p>
            </div>
        </div>
    </div>

    <script>
        const audio = document.getElementById('birthdayMusic');

        // Create flying hearts background
        function createFlyingHearts() {
            const hearts = ['💖', '💕', '💗', '💝', '💘', '💞'];
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'flying-heart';
                heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random() * 4 + 6) + 's';
                heart.style.animationDelay = Math.random() * 2 + 's';
                heart.style.fontSize = (Math.random() * 15 + 15) + 'px';
                document.body.appendChild(heart);

                setTimeout(() => {
                    heart.remove();
                }, 10000);
            }, 800);
        }

        // Create floating particles
        function createParticles() {
            const particleCount = 15;
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = particle.style.height = Math.random() * 6 + 3 + 'px';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                document.body.appendChild(particle);
            }
        }

        // Birthday message text
        const messageLines = [
        "🎉 Chúc mừng sinh nhật Trang 🎂",
        "“The future belongs to those who believe in the beauty of their dreams.”",
        "🎁 Ước mơ chính là ngọn đèn soi sáng, và tuổi mới sẽ là hành trình để em từng bước biến ước mơ ấy thành hiện thực. Hãy để hành trình này là một chuyến phiêu lưu rực rỡ.",
        "🌸 Chúc em luôn có đủ dũng khí để theo đuổi ước mơ, đủ bình an để mỉm cười mỗi ngày, và đủ yêu thương để lan tỏa hạnh phúc đến mọi người xung quanh. Anh tin rằng chỉ cần em không ngừng tin tưởng và cố gắng, em sẽ đạt được mọi điều em mong muốn.",
        "👑 Chúc Công chúa một tuổi mới thật nhiều trải nghiệm đáng nhớ và những niềm vui trọn vẹn! 🌷",
        "💖 Sinh nhật vui vẻ!"
        ];


        // Typewriter effect
        function typeWriter(element, text, speed = 30) {
            return new Promise((resolve) => {
                let i = 0;
                element.innerHTML = '';
                element.style.borderRight = '2px solid #ff69b4';

                function type() {
                    if (i < text.length) {
                        if (text.charAt(i) === '<') {
                            // Handle HTML tags
                            const tagEnd = text.indexOf('>', i);
                            if (tagEnd !== -1) {
                                element.innerHTML += text.substring(i, tagEnd + 1);
                                i = tagEnd + 1;
                            } else {
                                element.innerHTML += text.charAt(i);
                                i++;
                            }
                        } else {
                            element.innerHTML += text.charAt(i);
                            i++;
                        }
                        setTimeout(type, speed);
                    } else {
                        element.style.borderRight = 'none';
                        setTimeout(resolve, 500);
                    }
                }
                type();
            });
        }

        // Type all lines sequentially
        async function typeAllLines() {
            for (let i = 0; i < messageLines.length; i++) {
                const lineElement = document.getElementById(`text-line-${i + 1}`);
                await typeWriter(lineElement, messageLines[i], 25);
                await new Promise(resolve => setTimeout(resolve, 300));
            }
        }

        // Heart click handler
        // document.getElementById('heart').addEventListener('click', function () {
        //     const envelope = document.getElementById('envelope');
        //     const whiteBackground = document.getElementById('whiteBackground');
            
        //     // Hide the original envelope immediately
        //     envelope.classList.add('hidden');
            
        //     // Show the white background immediately
        //     whiteBackground.classList.add('show');
            
        //     // Start typing after background appears
        //     setTimeout(() => {
        //         typeAllLines();
        //     }, 800);
        // });
// Heart click handler
document.getElementById('heart').addEventListener('click', function () {
    const envelope = document.getElementById('envelope');
    const whiteBackground = document.getElementById('whiteBackground');
    
    // Start music automatically
    const audio = document.getElementById('birthdayMusic');
    audio.play().catch(e => console.log('Audio play failed:', e));
    
    // Hide envelope and show background
    envelope.classList.add('hidden');
    whiteBackground.classList.add('show');
    
    setTimeout(() => {
        typeAllLines();
    }, 800);
});

        // Initialize particles and flying hearts when page loads
        window.addEventListener('load', function () {
            createParticles();
            createFlyingHearts();
        });

        // Add some interactive sparkles on mouse move
        document.addEventListener('mousemove', function (e) {
            if (Math.random() > 0.93) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = e.clientX + 'px';
                sparkle.style.top = e.clientY + 'px';
                sparkle.style.position = 'fixed';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.zIndex = '1000';
                sparkle.style.background = '#ff69b4';
                sparkle.style.boxShadow = '0 0 10px #ff69b4';
                document.body.appendChild(sparkle);

                setTimeout(() => {
                    sparkle.remove();
                }, 1500);
            }
        });
    </script>
</body>

</html>